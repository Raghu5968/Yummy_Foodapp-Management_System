<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="static/css/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="static/css/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="static/css/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="static/css/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="static/css/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="static/css/vendor/simple-datatables/style.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="static/css/vendor/style.css" rel="stylesheet">
    <link href="static/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link href="static/css/checkout.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>



</head>

<body>
    <header>
        <!-- Jumbotron -->
        <div class="p-3 text-center bg-white border-bottom">
            <div class="container">
                <div class="d-flex justify-content-between">
                </div>
            </div>
        </div>
        <!-- Jumbotron -->

        <!-- Heading -->

        <!-- Heading -->
    </header>
    <section class="bg-light py-4">
        <main>
            <div class="py-5 text-center">
                <h2 class="text-center alert alert-danger">Checkout form</h2>
            </div>
            <div class="container">
                <form action="" method="post">
                    {% csrf_token %}
                    
                    <div class="row">
                        <div class="col-xl-8 col-lg-8 mb-4">

                            <!-- Checkout -->
                            <div class="card shadow-0 border">
                                <div class="p-5">
                                    <h5 class="card-title mb-3">{{request.user}} Address Details</h5>
                                    <div class="row">

                                        <div class="col-6 mb-3">
                                            <p class="mb-0">First name</p>
                                            <div class="form-outline">
                                                <input type="text" id="typeText" class="form-control"
                                                    value="{{request.user.username}}" />

                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <p class="mb-0">Last name</p>
                                            <div class="form-outline">
                                                <input type="text" id="typeText" placeholder="Type here"
                                                    class="form-control" value="{{request.user.last_name}}" />
                                            </div>
                                        </div>

                                        <div class="col-6 mb-3">
                                            <p class="mb-0">Phone</p>
                                            <div class="form-outline">
                                                <input type="tel" id="typePhone" value="{{user.foodappusers.number}} "
                                                    class="form-control" />
                                            </div>
                                        </div>

                                        <div class="col-6 mb-3">
                                            <p class="mb-0">Email</p>
                                            <div class="form-outline">
                                                <input type="email" id="typeEmail" value="{{request.user.email}}"
                                                    class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-8 mb-3">
                                        <p class="mb-0">Address</p>
                                        <div class="form-outline">
                                            <input type="text" id="typeText" placeholder="Type here"
                                                class="form-control" />
                                        </div>
                                    </div>

                                    <div class="col-sm-4 mb-3">
                                        <p class="mb-0">Area</p>
                                        <select class="form-select">
                                            <option value="1">Hitech City</option>
                                            <option value="2">Madapur</option>
                                            <option value="3">Durgam cheruvu</option>
                                            <option value="4">Rayadurg</option>
                                            <option value="5">other</option>

                                        </select>
                                    </div>
                                </div>

                                <div class="float-end">
                                    <a href="cartpage"  class="btn btn-success">
                                        Cancel</a>
                                   
                                </div>
                            </div>

                        </div>
                        <!-- Checkout -->





                        <div class="col-md-5 col-lg-4 order-md-last">
                            <h4 class="d-flex justify-content-between align-items-center mb-3">
                                <span class="alert alert-info">Your cart</span>

                            </h4>
                            <ul class="list-group mb-3">
                                {% for i in cart_items %}
                                <li class="list-group-item d-flex justify-content-between lh-sm">
                                    <div>
                                        <h6 class="my-0">{{i.items.itemname}}</h6>
                                        <small class="text-muted">Best Quality</small>
                                    </div>
                                    <div>{{i.quantity}}</div>
                                    <span class="text-muted">{{i.total_price}}</span>
                                    <div class="col-md-1 col-lg-1 col-xl-1 text-end">
                                        <a href="{% url 'remove_from_cart' i.id %}" class="text-muted"><i
                                                class="fa-solid fa-trash" style="color: #fa1100;"></i></a>

                                    </div>
                                </li>


                                {% endfor %}
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>Total (Rupee)</span>
                                    <strong>â‚¹{{total_price}}</strong>
                                </li>
                            </ul>
                            <button type="submit" id="rzp-button1">Place To Order</button>
                        </div>

                        <!-- success@razorpay -->
                    </div>
                </form>
            </div>

            </div>
    </section>
</body>
<!-- start js function -->

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
    var options = {
        "key": "rzp_test_d1KQnZuCgGnn9z", // Enter the Key ID generated from the Dashboard
        "amount": "{{payment.amount}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
        "currency": "INR",
        "name": "yummy app",
        "description": "Test Transaction",
        "image": "https://example.com/your_logo",
        "order_id": "{{payment.order_id}}", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
        "handler": function (response) {
            window.location.href = "http://127.0.0.1:8000/pdf"
        },

    };
    var rzp1 = new Razorpay(options);
    rzp1.on('payment.failed', function (response) {
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
    });
    document.getElementById('rzp-button1').onclick = function (e) {
        rzp1.open();
        e.preventDefault();
    }
</script>

<!-- end js function -->
<script src="static/css/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="static/css/aos/aos.js"></script>
<script src="static/css/glightbox/js/glightbox.min.js"></script>
<script src="static/css/purecounter/purecounter_vanilla.js"></script>
<script src="static/css/swiper/swiper-bundle.min.js"></script>
<script src="static/css/php-email-form/validate.js"></script>

<script src="static/js/main.js"></script>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

</html>